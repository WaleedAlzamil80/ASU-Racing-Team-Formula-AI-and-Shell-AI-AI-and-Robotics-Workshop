#!/usr/bin/env python3
import rospy
import numpy as np
from std_msgs.msg import Float32MultiArray
from nav_msgs.msg import Path
from geometry_msgs.msg import PoseStamped
import matplotlib.pyplot as plt




if __name__=="__main__":

    rospy.init_node('Goooooooooo')

    # # Publishers for .........
    # point_clouds = rospy.Publisher("/velodyne_points", PointCloud2, queue_size = 10)
    # images = rospy.Publisher("/camera/rgb_image", Image, queue_size = 10)
    # get_points()
    # visited = set()
    # x0 = gps[0]
    # y0 = gps[1]
    # path = dfs(graph, (x0, y0), visited)
    # print (path)

    path = [(0.0009044371545314789, -0.011445176787674427), (0.45133739709854126, -3.2138075828552246), (4.001756191253662, -2.9664952754974365), (3.3519206047058105, 1.0320063829421997), (4.001756191253662, -2.9664952754974365), (3.8522567749023438, -10.896587371826172), (0.25244051218032837, -11.147706031799316), (0.25265198945999146, -14.949625015258789), (-1.547236442565918, -15.075573921203613), (-1.9471136331558228, -11.201362609863281), (-4.00867223739624, -10.8695650100708), (-1.9471136331558228, -11.201362609863281), (-1.547236442565918, -15.075573921203613), (0.25265198945999146, -14.949625015258789), (7.662649631500244, -15.137761116027832), (7.540305137634277, -11.414168357849121), (7.662649631500244, -15.137761116027832), (10.667949676513672, -15.617399215698242), (10.324146270751953, -19.0721435546875), (13.876774787902832, -19.399490356445312), (10.324146270751953, -19.0721435546875), (10.667949676513672, -15.617399215698242), (17.5969181060791, -15.054502487182617), (17.6099910736084, -5.128689765930176), (14.63024616241455, -5.171650409698486), (14.503824234008789, -8.094383239746094), (14.277883529663086, -11.518037796020508), (11.227004051208496, -11.216604232788086), (14.277883529663086, -11.518037796020508), (14.503824234008789, -8.094383239746094), (10.495291709899902, -7.429254055023193), (7.144660949707031, -7.202479362487793), (10.495291709899902, -7.429254055023193), (10.448286056518555, -3.056877613067627), (10.495291709899902, -7.429254055023193), (14.503824234008789, -8.094383239746094), (14.63024616241455, -5.171650409698486), (17.6099910736084, -5.128689765930176), (17.57518196105957, -4.501650333404541), (21.374868392944336, -4.6749677658081055), (21.474491119384766, -1.423298716545105), (17.848960876464844, -0.8205252885818481), (13.748641967773438, -1.043823480606079), (17.848960876464844, -0.8205252885818481), (17.47275161743164, 5.160204887390137), (14.221120834350586, 5.942576885223389), (14.220608711242676, 1.7700799703598022), (10.520023345947266, 1.7975044250488281), (10.46957015991211, 0.5994661450386047), (10.520023345947266, 1.7975044250488281), (14.220608711242676, 1.7700799703598022), (14.221120834350586, 5.942576885223389), (13.885286331176758, 8.328800201416016), (9.809385299682617, 8.541605949401855), (9.75943660736084, 11.995377540588379), (2.5844194889068604, 12.072497367858887), (2.2092113494873047, 9.12832260131836), (2.134303569793701, 4.679129600524902), (2.2092113494873047, 9.12832260131836), (4.559253215789795, 8.706621170043945), (4.58412504196167, 5.209001541137695), (7.259113311767578, 4.838045120239258), (7.0340728759765625, 1.4399988651275635), (7.259113311767578, 4.838045120239258), (10.383970260620117, 4.667725563049316), (7.259113311767578, 4.838045120239258), (7.183905124664307, 8.947088241577148), (7.259113311767578, 4.838045120239258), (4.58412504196167, 5.209001541137695), (4.559253215789795, 8.706621170043945), (2.2092113494873047, 9.12832260131836), (2.5844194889068604, 12.072497367858887), (9.75943660736084, 11.995377540588379), (9.809385299682617, 8.541605949401855), (13.885286331176758, 8.328800201416016), (14.221120834350586, 5.942576885223389), (17.47275161743164, 5.160204887390137), (17.848960876464844, -0.8205252885818481), (21.474491119384766, -1.423298716545105), (21.374868392944336, -4.6749677658081055), (17.57518196105957, -4.501650333404541), (17.6099910736084, -5.128689765930176), (17.5969181060791, -15.054502487182617), (10.667949676513672, -15.617399215698242), (7.662649631500244, -15.137761116027832), (0.25265198945999146, -14.949625015258789), (0.25244051218032837, -11.147706031799316), (3.8522567749023438, -10.896587371826172), (4.001756191253662, -2.9664952754974365), (0.45133739709854126, -3.2138075828552246), (0.0009044371545314789, -0.011445176787674427)]
    
    arr = np.zeros((len(path),2))

    for i in range(len(path)):
        for j in range(2):
            arr[i][j] = path[i][j]
    path_pub = rospy.Publisher('nav_msgs', Path, queue_size=10)
    waypoint = Path()    
    waypoints = []
    for row in arr:
        pose = PoseStamped()
        pose.pose.position.x = row[0]
        pose.pose.position.y = row[1]
        waypoints.append(pose)

    waypoint.poses = waypoints
    r = rospy.Rate(10)
    while not rospy.is_shutdown():
        path_pub.publish(waypoint)
        r.sleep()

    #r = rospy.Rate(10)

    # while not rospy.is_shutdown():
    # maybe publish continuously the path we found. ?
    #     # Create msgs to publish ...........#
    #     

'''
[(0.0009044371545314789, -0.011445176787674427), (0.45133739709854126, -3.2138075828552246), (4.001756191253662, -2.9664952754974365), (3.3519206047058105, 1.0320063829421997), (4.001756191253662, -2.9664952754974365), (3.8522567749023438, -10.896587371826172), (0.25244051218032837, -11.147706031799316), (0.25265198945999146, -14.949625015258789), (-1.547236442565918, -15.075573921203613), (-1.9471136331558228, -11.201362609863281), (-4.00867223739624, -10.8695650100708), (-1.9471136331558228, -11.201362609863281), (-1.547236442565918, -15.075573921203613), (0.25265198945999146, -14.949625015258789), (7.662649631500244, -15.137761116027832), (7.540305137634277, -11.414168357849121), (7.662649631500244, -15.137761116027832), (10.667949676513672, -15.617399215698242), (10.324146270751953, -19.0721435546875), (13.876774787902832, -19.399490356445312), (10.324146270751953, -19.0721435546875), (10.667949676513672, -15.617399215698242), (17.5969181060791, -15.054502487182617), (17.6099910736084, -5.128689765930176), (14.63024616241455, -5.171650409698486), (14.503824234008789, -8.094383239746094), (14.277883529663086, -11.518037796020508), (11.227004051208496, -11.216604232788086), (14.277883529663086, -11.518037796020508), (14.503824234008789, -8.094383239746094), (10.495291709899902, -7.429254055023193), (7.144660949707031, -7.202479362487793), (10.495291709899902, -7.429254055023193), (10.448286056518555, -3.056877613067627), (10.495291709899902, -7.429254055023193), (14.503824234008789, -8.094383239746094), (14.63024616241455, -5.171650409698486), (17.6099910736084, -5.128689765930176), (17.57518196105957, -4.501650333404541), (21.374868392944336, -4.6749677658081055), (21.474491119384766, -1.423298716545105), (17.848960876464844, -0.8205252885818481), (13.748641967773438, -1.043823480606079), (17.848960876464844, -0.8205252885818481), (17.47275161743164, 5.160204887390137), (14.221120834350586, 5.942576885223389), (14.220608711242676, 1.7700799703598022), (10.520023345947266, 1.7975044250488281), (10.46957015991211, 0.5994661450386047), (10.520023345947266, 1.7975044250488281), (14.220608711242676, 1.7700799703598022), (14.221120834350586, 5.942576885223389), (13.885286331176758, 8.328800201416016), (9.809385299682617, 8.541605949401855), (9.75943660736084, 11.995377540588379), (2.5844194889068604, 12.072497367858887), (2.2092113494873047, 9.12832260131836), (2.134303569793701, 4.679129600524902), (2.2092113494873047, 9.12832260131836), (4.559253215789795, 8.706621170043945), (4.58412504196167, 5.209001541137695), (7.259113311767578, 4.838045120239258), (7.0340728759765625, 1.4399988651275635), (7.259113311767578, 4.838045120239258), (10.383970260620117, 4.667725563049316), (7.259113311767578, 4.838045120239258), (7.183905124664307, 8.947088241577148), (7.259113311767578, 4.838045120239258), (4.58412504196167, 5.209001541137695), (4.559253215789795, 8.706621170043945), (2.2092113494873047, 9.12832260131836), (2.5844194889068604, 12.072497367858887), (9.75943660736084, 11.995377540588379), (9.809385299682617, 8.541605949401855), (13.885286331176758, 8.328800201416016), (14.221120834350586, 5.942576885223389), (17.47275161743164, 5.160204887390137), (17.848960876464844, -0.8205252885818481), (21.474491119384766, -1.423298716545105), (21.374868392944336, -4.6749677658081055), (17.57518196105957, -4.501650333404541), (17.6099910736084, -5.128689765930176), (17.5969181060791, -15.054502487182617), (10.667949676513672, -15.617399215698242), (7.662649631500244, -15.137761116027832), (0.25265198945999146, -14.949625015258789), (0.25244051218032837, -11.147706031799316), (3.8522567749023438, -10.896587371826172), (4.001756191253662, -2.9664952754974365), (0.45133739709854126, -3.2138075828552246), (0.0009044371545314789, -0.011445176787674427)]
waleed_alzamil@waleedalzamil-Inspiron-3593:~/Downloads/CoppeliaSim_Edu_V4_4_0_rev0_Ubuntu20_04$ 
Last dictionary

vq{(0.0009044371545314789, -0.011445176787674427): [(0.45133739709854126, -3.2138075828552246)], (0.45133739709854126, -3.2138075828552246): [(0.0009044371545314789, -0.011445176787674427), (4.001756191253662, -2.9664952754974365)], (4.001756191253662, -2.9664952754974365): [(0.45133739709854126, -3.2138075828552246), (3.3519206047058105, 1.0320063829421997), (3.8522567749023438, -10.896587371826172)], (3.3519206047058105, 1.0320063829421997): [(4.001756191253662, -2.9664952754974365)], (3.8522567749023438, -10.896587371826172): [(4.001756191253662, -2.9664952754974365), (0.25244051218032837, -11.147706031799316)], (0.25244051218032837, -11.147706031799316): [(3.8522567749023438, -10.896587371826172), (0.25265198945999146, -14.949625015258789)], (0.25265198945999146, -14.949625015258789): [(0.25244051218032837, -11.147706031799316), (-1.547236442565918, -15.075573921203613), (7.662649631500244, -15.137761116027832)], (-1.547236442565918, -15.075573921203613): [(0.25265198945999146, -14.949625015258789), (-1.9471136331558228, -11.201362609863281)], (-1.9471136331558228, -11.201362609863281): [(-1.547236442565918, -15.075573921203613), (-4.00867223739624, -10.8695650100708)], (-4.00867223739624, -10.8695650100708): [(-1.9471136331558228, -11.201362609863281)], (7.662649631500244, -15.137761116027832): [(0.25265198945999146, -14.949625015258789), (7.540305137634277, -11.414168357849121), (10.667949676513672, -15.617399215698242)], (7.540305137634277, -11.414168357849121): [(7.662649631500244, -15.137761116027832)], (10.667949676513672, -15.617399215698242): [(7.662649631500244, -15.137761116027832), (10.324146270751953, -19.0721435546875), (17.5969181060791, -15.054502487182617)], (10.324146270751953, -19.0721435546875): [(10.667949676513672, -15.617399215698242), (13.876774787902832, -19.399490356445312)], (13.876774787902832, -19.399490356445312): [(10.324146270751953, -19.0721435546875)], (17.5969181060791, -15.054502487182617): [(10.667949676513672, -15.617399215698242), (17.6099910736084, -5.128689765930176)], (17.6099910736084, -5.128689765930176): [(17.5969181060791, -15.054502487182617), (14.63024616241455, -5.171650409698486), (17.57518196105957, -4.501650333404541)], (14.63024616241455, -5.171650409698486): [(17.6099910736084, -5.128689765930176), (14.503824234008789, -8.094383239746094)], (14.503824234008789, -8.094383239746094): [(14.63024616241455, -5.171650409698486), (14.277883529663086, -11.518037796020508), (10.495291709899902, -7.429254055023193)], (14.277883529663086, -11.518037796020508): [(14.503824234008789, -8.094383239746094), (11.227004051208496, -11.216604232788086)], (11.227004051208496, -11.216604232788086): [(14.277883529663086, -11.518037796020508)], (10.495291709899902, -7.429254055023193): [(14.503824234008789, -8.094383239746094), (7.144660949707031, -7.202479362487793), (10.448286056518555, -3.056877613067627)], (7.144660949707031, -7.202479362487793): [(10.495291709899902, -7.429254055023193)], (10.448286056518555, -3.056877613067627): [(10.495291709899902, -7.429254055023193)], (17.57518196105957, -4.501650333404541): [(17.6099910736084, -5.128689765930176), (21.374868392944336, -4.6749677658081055)], (21.374868392944336, -4.6749677658081055): [(17.57518196105957, -4.501650333404541), (21.474491119384766, -1.423298716545105)], (21.474491119384766, -1.423298716545105): [(21.374868392944336, -4.6749677658081055), (17.848960876464844, -0.8205252885818481)], (17.848960876464844, -0.8205252885818481): [(21.474491119384766, -1.423298716545105), (13.748641967773438, -1.043823480606079), (17.47275161743164, 5.160204887390137)], (13.748641967773438, -1.043823480606079): [(17.848960876464844, -0.8205252885818481)], (17.47275161743164, 5.160204887390137): [(17.848960876464844, -0.8205252885818481), (14.221120834350586, 5.942576885223389)], (14.221120834350586, 5.942576885223389): [(17.47275161743164, 5.160204887390137), (14.220608711242676, 1.7700799703598022), (13.885286331176758, 8.328800201416016)], (14.220608711242676, 1.7700799703598022): [(14.221120834350586, 5.942576885223389), (10.520023345947266, 1.7975044250488281)], (10.520023345947266, 1.7975044250488281): [(14.220608711242676, 1.7700799703598022), (10.46957015991211, 0.5994661450386047)], (10.46957015991211, 0.5994661450386047): [(10.520023345947266, 1.7975044250488281)], (13.885286331176758, 8.328800201416016): [(14.221120834350586, 5.942576885223389), (9.809385299682617, 8.541605949401855)], (9.809385299682617, 8.541605949401855): [(13.885286331176758, 8.328800201416016), (9.75943660736084, 11.995377540588379)], (9.75943660736084, 11.995377540588379): [(9.809385299682617, 8.541605949401855), (2.5844194889068604, 12.072497367858887)], (2.5844194889068604, 12.072497367858887): [(9.75943660736084, 11.995377540588379), (2.2092113494873047, 9.12832260131836)], (2.2092113494873047, 9.12832260131836): [(2.5844194889068604, 12.072497367858887), (2.134303569793701, 4.679129600524902), (4.559253215789795, 8.706621170043945)], (2.134303569793701, 4.679129600524902): [(2.2092113494873047, 9.12832260131836)], (4.559253215789795, 8.706621170043945): [(2.2092113494873047, 9.12832260131836), (4.58412504196167, 5.209001541137695)], (4.58412504196167, 5.209001541137695): [(4.559253215789795, 8.706621170043945), (7.259113311767578, 4.838045120239258)], (7.259113311767578, 4.838045120239258): [(4.58412504196167, 5.209001541137695), (7.0340728759765625, 1.4399988651275635), (10.383970260620117, 4.667725563049316), (7.183905124664307, 8.947088241577148)], (7.0340728759765625, 1.4399988651275635): [(7.259113311767578, 4.838045120239258)], (10.383970260620117, 4.667725563049316): [(7.259113311767578, 4.838045120239258)], (7.183905124664307, 8.947088241577148): [(7.259113311767578, 4.838045120239258)]}
b
    '''